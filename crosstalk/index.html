<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/crossTalk.css" rel="stylesheet">
<link href="css/spin.css" rel="stylesheet">
<link href="css/bootstrap-switch.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.css" rel="stylesheet">
<link href="css/bootstrap-theme.min.css" rel="stylesheet">
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/SpinBox.js"></script>
<script src="js/bootstrap-switch.js"></script>
<script src="js/crossTalk.js"></script>
<script>


</script>
<title>Cross Talk Analysis Tool</title>
</head>
<body>
	<div id="slideoutTab">
		<i id ="plus_minus" class="fa fa-caret-left fa-2x"></i>
    </div>
	<div class="container">
		<div id="logos"> <!-- Banner div -->
			   <a href="http://dceg.cancer.gov" target="_blank"><img alt="Division of Cancer Epidemiology &amp; Genetics" src="images/DCEG-logo.svg" class="division-logo"></a>
		</div> <!-- end of banner div -->
		<div id="banners"> <!-- sub-Banner div -->
			<div id="left">
				<img src="images/DCEGBB.png"
					alt="Banner for NCI Division of Cancer Epidemiology and Genetics Biostatistics Branch"
					height="25" />
			</div> <!-- end of sub-banner div -->
		</div>
		<!-- panel for content -->
		<br/>
		<div class="row">
				<div id="slideoutTab">
						<i id ="icon" class="fa fa-caret-left fa-2x" onclick="Slide_menu_Horz()" style="margin-left:31%"></i>
        		</div>
			<div class="col-lg-4" id="slideoutForm"><!-- left panel -->
				<div id="slideout">
					<div class="well" >
							<div class="box" >
								<label class="form-label"> Description </label>
								<span class="pull-right"><a href="javascript:alert('Will implement later');" >Help</a></span>
								<br/>
								<textarea class="form-control" rows="3" id="description" ></textarea>
								<br/>
								<div class="col-sm-4">Start Year</div>
								<div class="col-sm-4">Start Age</div>
								<div class="col-sm-4">Interval(Year)</div>
								<br/>
								<div class="col-sm-4"><span id="sbox1"></span></div>
								<div class="col-sm-4"><span id="sbox2"></span></div>
								<div class="col-sm-4"><span id="sbox3"></span></div>
								<br/><br/>
								Copy and Paste into the tables on right or upload two data files in the specified CSV format &nbsp;&nbsp; <a href="javascript:alert('Will implement later')">Help</a>
								<br/><br/>
								<fieldset>
									<legend><font size="2"><b>Data File 1</b></font></legend>
									<div class="col-sm-2">
										<label class="control-label" for="title1">Title</label>
									</div>
									<div class="col-sm-10">
									<input type="text" class="form-control" id="title1" placeholder="Enter Title">
									</div>
									<br/><br/><br/>
									<div class="col-sm-12">
										<input type="file" id="inputfile1">
									</div>
								</fieldset>
								<br/><br/>
								<fieldset>
									<legend><font size="2"><b>Data File 2</b></font></legend>
									<div class="col-sm-2">
										<label class="control-label" for="title2">Title</label>
									</div>
									<div class="col-sm-10">
									<input type="text" class="form-control" id="title2" placeholder="Enter Title">
									</div>
									<br/><br/><br/>
									<div class="col-sm-12">
										<input type="file" id="inputfile2">
									</div>
								</fieldset>
								<br/><br/>
								<div align="right">
									<button type="submit" id="resetBt" class="btn btn-primary active"> Reset</button> &nbsp;&nbsp;&nbsp;
									<button type="submit" id="modelBt" class="btn btn-primary active"> Fit Model</button>
								</div>
							</div>
					</div>
				</div>
			</div> <!-- end left panel -->
			<div class="col-lg-8" id="right_panel"><!-- right panel -->
				<ul id="myTab" class="nav nav-tabs responsive">
							<li class="active" ><a href="#input" data-toggle="tab" title="Input" data-content="Input">Input</a></li>
							<li><a href="#rates" data-toggle="tab" title="Rates" data-content="Rates">Rates</a></li>
							<li><a href="#rateRatios" data-toggle="tab" title="Rate Ratios" data-content="Rate Ratios"> Rate Ratios</a></li>
							<li><a href="#goodness" data-toggle="tab" title="Goodness of Fit" data-content="Goodness of Fit">Goodness of Fit</a></li>
							<li><a href="#apcRate" data-toggle="tab" title="APC of Rates" data-content="APC of Rates">APC of Rates</a></li>
							<li><a href="#apcRatios" data-toggle="tab" title="APC of Rate Ratios" data-content="APC of Rate Ratios">APC of Rate Ratios</a></li>
							<li><a href="#help" data-toggle="tab" title="Help" data-content="Help">Help</a></li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane fade in active" id="input">
						<br/>
						<fieldset>
							<legend><font size="2"><b>Data 1 (Numerator)</b></font></legend>
						    <div id="dataset1">
						    	<center><img src="images/dataset.jpg" class="img-responsive" alt="Dataset 1" height="200" width="400"></center>
							</div>
						</fieldset>
						<br/>
						<fieldset>
							<legend><font size="2"><b>Data 2 (Denominator)</b></font></legend>
						    <div id="dataset2">
						    	<center><img src="images/dataset.jpg" class="img-responsive" alt="Dataset 2" height="200" width="400"></center>
							</div>
						</fieldset>
						<br/>
						<div id="datasetButton" align="center">
						 <button type="submit" id="modelBt" class="btn btn-primary active"> Flip Two Data in Ratio Calculation</button>
						</div>
					</div>
					<div class="tab-pane fade" id="rates">
						<br/>
						<div id="ratePane" style="display:none">
						<div class="col-sm-6">
							<center><img src="images/rate1.jpg" class="img-responsive" alt="Rate 1" height="500" width="300"></center><br/>
							<center><a href="javascript:alert('To be implemented')">View Data Urban China 30-49</a></center>
						</div>
						<div class="col-sm-6">
							<center><img src="images/rate2.jpg" class="img-responsive" alt="Rate 2" height="500" width="300"></center><br/><br/>
							<center><a href="javascript:alert('To be implemented')">View Data NHW 30-49</a></center>
						</div>
						</div>
					</div>
					<div class="tab-pane fade" id="rateRatios">
						<br/>
						<div class="col-sm-12"><font size="4"><b>Plot Options</b></font></div>
						<div class="col-sm-12" id="showNumber" style="display:none"><font size="2">Show numbers in circle</font>&nbsp;&nbsp;&nbsp;<input type="checkbox" name="showSwitch" checked></div>
						<div class="col-sm-12" id="showPlot" style="display:none">
							<center><img src="images/plot.jpg" class="img-responsive" alt="Plot" height="900" width="500"></center><br/><br/>
							<center><a href="javascript:alert('To be implemented')">View Data Urban China 30-49 vs NHW 30-49</a></center>
						</div>

					</div>
					<div class="tab-pane fade" id="goodness">
						<br/>
						<div class="col-sm-12">
							Show warning and explanation about zero/sparse data. Also explain how to fix the data using example in help.
							<br/><br/>
							Two spie plots, estimates of over dispersion, sigma, residuals.
							<br/><br/>
							Add cropping options, e.g. sliders to select year and age.
						</div>
						<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
						<div class="col-sm-12" align="right">
							<button type="submit" id="modelBt" class="btn btn-primary active"> Export Cropped Datasets </button>
						</div>
					</div>
					<div class="tab-pane fade" id="apcRate">
						 <br/>
						 <div id="apcRatePane" class="col-sm-12" style="display:none">
							<nav class="navbar navbar-default col-sm-6" role="navigation">
								<div>
									<ul class="nav navbar-nav">
										<li id="localli" class="active"><a href="javaScript:changeContent('local');">Local Drifts</a></li>
										<li id="netli"><a href="javaScript:changeContent('net');">Net Drifts</a></li>
										<li id="adjustli"><a href="javaScript:changeContent('adjust');">Adjust Rates</a></li>
									</ul>
								</div>
							</nav>
							<div id="navbar-content">
								<div class="active col-sm-12" id="local">
									<div class="col-sm-6">
										<center><img src="images/localDrifts.jpg" class="img-responsive" alt="Rate 1" width="500"></center><br/>
										<center><a href="javascript:alert('To be implemented')">View Data Urban China 30-49</a></center>
									</div>
									<div class="col-sm-6">
										<br/>
										<center><img src="images/comparisonDrifts.jpg" class="img-responsive" alt="Rate 2" width="500"></center><br/><br>
										<center><a href="javascript:alert('To be implemented')">View Data NHW 30-49</a></center>
									</div>
								</div>
								<div style="display:none" class="col-sm-12" id="net">
									<br/>
									<table class="table table-striped table-bordered">
										<thead>
											<tr>
												<th>Cohort</th>
												<th>%/yr</th>
												<th>COLo</th>
												<th>CIHi</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>Urban China 30-49</td>
												<td>1.561562764</td>
												<td>1.318259693</td>
												<td>1.805450098</td>
											</tr>
											<tr>
												<td>NHW 30-49 &nbsp;0.235639525</td>
												<td>0.079603778</td>
												<td>0.39191855</td>
												<td>&nbsp;</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div style="display:none" class="col-sm-12" id="adjust">
									<!-- start sccordion -->
									<div class="accordion">
										<div class="panel-group" id="accordion">
											<div class="panel panel-default">
												<div class="panel-heading">
													<h4 class="panel-title">
														<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">Comparison of Adjusted Rates</a>
													</h4>
												</div>
												<div id="collapseOne" class="panel-collapse collapse in">
													<div class="panel-body">
														<br/>
														<div class="col-sm-6">
															<center><img src="images/comparison1.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
														</div>
														<div class="col-sm-6">
															<center><img src="images/comparison2.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
														</div>
													</div>
												</div>
											</div>
											<div class="panel panel-default">
												<div class="panel-heading">
													<h4 class="panel-title">
														<a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">Fitted Cohort Pattern</a>
													</h4>
												</div>
												<div id="collapseTwo" class="panel-collapse collapse">
													<div class="panel-body">
														<div class="col-sm-12">
															<center><img src="images/cohort.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
														</div>
													</div>
												</div>
											</div>
											<div class="panel panel-default">
												<div class="panel-heading">
													<h4 class="panel-title">
														<a data-toggle="collapse" data-parent="#accordion" href="#collapseThree">Fitted Temporal Trends</a>
													</h4>
												</div>
												<div id="collapseThree" class="panel-collapse collapse">
													<div class="panel-body">
														<div class="col-sm-12">
															<center><img src="images/temporal.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
														</div>
													</div>
												</div>
											</div>
											<div class="panel panel-default">
												<div class="panel-heading">
													<h4 class="panel-title">
														<a data-toggle="collapse" data-parent="#accordion" href="#collapseFour">Cross-Sectional Age Curve</a>
													</h4>
												</div>
												<div id="collapseFour" class="panel-collapse collapse">
													<div class="panel-body">
														<div class="col-sm-12">
															<center><img src="images/cross-sectional.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>		<!-- end of caccordion -->
								</div>
							</div>
					   </div>
					</div>
					<div class="tab-pane fade" id="apcRatios">
						<!-- start accordion -->
						<div id="apcRatioPane" class="accordion" style="display:none">
							<div class="panel-group" id="accordion2">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#accordion2" href="#collapse1">Fitted Cohort Pattern</a>
										</h4>
									</div>
									<div id="collapse1" class="panel-collapse collapse in">
										<div class="panel-body">
											<br/>
											<div class="col-sm-12">
												<center><img src="images/ratioCohort.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
												<center><a href="javascript:alert('To be implemented')">View Data Urban China 30-49 vs NHW 30-49</a></center>
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#accordion2" href="#collapse2">Fitted Temporal Trends</a>
										</h4>
									</div>
									<div id="collapse2" class="panel-collapse collapse">
										<div class="panel-body">
											<div class="col-sm-12">
												<center><img src="images/ratioTemporal.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
												<center><a href="javascript:alert('To be implemented')">View Data Urban China 30-49 vs NHW 30-49</a></center>
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#accordion2" href="#collapse3">Cross-Sectional Age Curve</a>
										</h4>
									</div>
									<div id="collapse3" class="panel-collapse collapse">
										<div class="panel-body">
											<div class="col-sm-12">
												<center><img src="images/ratioCrossSection.jpg" class="img-responsive" alt="Rate 2" width="500"></center>
												<center><a href="javascript:alert('To be implemented')">View Data Urban China 30-49 vs NHW 30-49</a></center>
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#accordion2" href="#collapse4">Intercepts</a>
										</h4>
									</div>
									<div id="collapse4" class="panel-collapse collapse">
										<div class="panel-body">
											<div class="col-sm-12">
											<br/>
												<table class="table table-striped table-bordered">
													<caption>Urban China 30-49 vs NHW 30-49</caption>
													<thead>
														<tr>
															<th>&nbsp;</th>
															<th>Lo</th>
															<th>Hi</th>
															<th>IO</th>
															<th>CI Lo</th>
															<th>CI Hi</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<td>age</td>
															<td>31</td>
															<td>49</td>
															<td>0.473241514</td>
															<td>0.464802678</td>
															<td>0.481833563</td>
														</tr>
														<tr>
															<td>Period</td>
															<td>1992</td>
															<td>2008</td>
															<td>0.473241514</td>
															<td>0.464802678</td>
															<td>0.481833563</td>
														</tr>
														<tr>
															<td>cohort</td>
															<td>1943</td>
															<td>1977</td>
															<td>0.473241514</td>
															<td>0.464802678</td>
															<td>0.481833563</td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
									</div>
 								</div>
							</div>
						</div>		<!-- end of caccordion -->
					</div>
					<div class="tab-pane fade" id="help">
						<br/>
						<!-- help page content -->
						<div style="overflow-y: auto; height:600px;">
							<center><h3> Cross Talk Help</h3></center>
							<p>Age-Period-Cohort analysis identifies patterns in cancer incidence or mortality rates from
							population-based <b><i> Count </i></b> (numerator) and <b><i> Population </i></b> (denominator) data. Often the data come
							from a <B>Cancer Registry</B> (e.g., <a href='http://seer.cancer.gov/registries/' target='seer'> SEER</a>) in the form of a table showing the numbers of cancer cases or cancer deaths
							(counts) and corresponding person-years at risk (population) for particular age groups and
							calendar time periods. In cancer research, the Age-Period-Cohort (APC) framework is a fundamental
							model to analyze these data. The APC Model includes <i> parameters </i> that describe the mathematical
							relationships between the <b><i>Rate</i></b> of cancer and attained age, calendar period (year of diagnosis),
							and birth cohort (year of birth). The cancer <b><i>Rate</i></b> is expressed as the number of cancers per 100,000
							persons at risk, which is calculated from the data using the formula: <b><i>(Count/Population) x 100,000.</i></b> </p>

							<p>This web tool uses the inputted count and population data to fit the APC Model and returns a number of <b><i>Outputs.</i></b>
							To use this tool, the width of the age and period intervals must all be equal. When this is so, the diagonals
							of the rate table represent birth cohorts.</p>

							<p> Visit the following sections to learn more about the APC web tool:</p>
							<ul>
								<li><a href='#started'>Getting started</a> - Learn how to enter data into the tool.</li>
								<li><a href='#example'>Sample data</a> - Enter any of these sample datasets to see the tool in action. </li>
								<li><a href='#whatitdoes'>What it does</a> - Find out what outputs are produced. </li>
								<li><a href='#savingyourresults'>Saving your results</a> - Find out how to save raw output as an Excel Workbook, R Workspace, or text file. </li>
									<li><a href='#faq'>FAQ</a> - Find out answers to some common questions about the APC tool.</li>
							</ul>
							<a name='started'></a><h3>Getting started </h3>
							<p>Input data for the web tool consist of <B>Count and Population</B> data for particular age groups over calendar time, in the form of a matrix of rows with paired columns. Rows correspond to particular age groups and columns correspond to calendar time periods. The age and period intervals must all be equal, i.e. if 5-year age groups are used then 5-year calendar periods must also be used.
							The data can be input by copy-and-paste from an Excel worksheet or file upload of a comma-separated-values (csv) file. </p>

							<p><h5>To input from Excel:</h5></p>
							<ol>
								<li>Copy the paired columns of data you want to analyze from your spreadsheet,
								right-click inside the empty matrix on the Input tab, and paste your selection.</li>
								<li>Fill in the information (meta-data) on the left hand side of the Input page:
								<ul>
									<li><B>Title</B> - describe your data</li>
									<li><B>Description</B> - add optional details </li>
									<li><B>Start Year</B> - list the first calendar year of the first calendar period of your data, for example, use 1990 for the interval 1990 - 1994</li>
									<li><B>Start Age</B> - list the first age of the first age group of your data, for example use 30 for the interval 30 - 34</li>
									<li><B>Interval (Years)</B> - the width of the age and period intervals, for example use 1 for single-year data, 2 for two-year data, 5 for five-year data (e.g., 1990 - 1994), etc.</li>
								</ul>
								<li>Click the Calculate button.</li>
								</li>
							</ol>
						</div>
					</div>
				</div>
			</div> <!-- end right panel -->
		</div>
		<!-- footer -->
		<br/>
		<div id="portal-footer">
			<div class="footerLinks">
				<a href="http://www.cancer.gov/" title="Home">Home</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="mailto:NCIAPCWebToolAdmin@mail.nih.gov" title="Support">Support</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="http://www.cancer.gov/global/web/policies" title="Policies">Policies</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="http://www.cancer.gov/global/web/policies/accessibility"
					title="Accessibility">Accessibility</a>&nbsp;&nbsp;|&nbsp;&nbsp; <a
					href="http://cancer.gov/global/viewing-files" target="_blank"
					title="Viewing Files">Viewing Files</a>&nbsp;&nbsp;|&nbsp;&nbsp; <a
					href="http://www.cancer.gov/global/web/policies/foia" title="FOIA">FOIA</a><br />
				<br /> <a href="http://www.dhhs.gov/">Department of Health and
					Human Services</a>&nbsp;&nbsp;|&nbsp;&nbsp; <a
					href="http://www.nih.gov/">National Institutes of Health</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="http://www.cancer.gov/">National Cancer Institute</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a
					href="http://www.usa.gov/">USA.gov</a>
			</div>
			<br /> <br /> NIH...Turning Discovery Into Health<sup>&reg;</sup>
		</div>
	</div>



</body>
</html>